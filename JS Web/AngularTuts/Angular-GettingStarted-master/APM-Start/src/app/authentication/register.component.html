<div class="panel panel-primary">
  <div class="panel-heading">
    {{pageTitle}}
  </div>

  <div class="panel-body">
    <form class="form-horizontal" 
    novalidate 
    (ngSubmit)="registerUser()" 
    [formGroup]="registerForm">
      <fieldset>
        <div class="form-group" 
        [ngClass]="{'has-error': errorMessages.username }">
          <label class="col-md-2 control-label" 
          for="usernameId">Username</label>
          <div class="col-md-8">
            <input class="form-control" 
            id="usernameId" 
            type="text" 
            placeholder="Username" 
            formControlName="username" />
            <span class="help-block" *ngIf="errorMessages.username">
              {{errorMessages.username}}
            </span>
          </div>
        </div>
      <div formGroupName="emailGroup"
      [ngClass]="{'has-error': registerForm.get('emailGroup').errors}">
        <div class="form-group" 
        [ngClass]="{'has-error': errorMessages.email }">
          <label class="col-md-2 control-label" 
          for="emailId">Email</label>
          <div class="col-md-8">
            <input class="form-control" 
            id="emailId" 
            type="text" 
            placeholder="Email" 
            formControlName="email" />
            <span class="help-block" *ngIf="errorMessages.email">
              {{errorMessages.email}}
            </span>
          </div>
        </div>
        <div class="form-group" 
        [ngClass]="{'has-error': errorMessages.confirmEmail }">
          <label class="col-md-2 control-label" 
          for="confirmEmailId">Confirm Email</label>
          <div class="col-md-8">
            <input class="form-control" 
            id="confirmEmailId" 
            type="text" 
            placeholder="Confirm Email" 
            formControlName="confirmEmail" />
            <span class="help-block" *ngIf="errorMessages.confirmEmail">
              {{errorMessages.confirmEmail}}
            </span>
            <span *ngIf="errorMessages.emailGroup">
               {{errorMessages.emailGroup}}
            </span> 
          </div>
        </div>
      </div>
      <div class="form-group" 
      [ngClass]="{'has-error': errorMessages.password }">
        <label class="col-md-2 control-label" 
        for="passwordId">Password</label>
        <div class="col-md-8">
          <input class="form-control" 
          id="passwordId" 
          type="password" 
          placeholder="Password" 
          formControlName="password" />
          <span class="help-block" *ngIf="errorMessages.password">
            {{errorMessages.password}}
          </span>
        </div>
      </div>
      </fieldset>
      <input type="submit" class="btn btn-primary" value="Register"/>
    </form>
  </div>